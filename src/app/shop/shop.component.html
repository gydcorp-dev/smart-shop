<div id="wrapper">
    <!-- main contents -->
    <main class="mx-auto">

        <div class="main__inner">

            <div
                uk-sticky="cls-active: bg-slate-100/60 z-30 backdrop-blur-lg px-4; start: 80; animation: uk-animation-slide-top">

                <!-- heading title -->
                <div class="page__heading">
                    <h1> Products </h1>
                </div>

                <!-- tab style one -->
                <div class="overflow-hidden mt-6">

                    <div id="product-nav"
                        class="relative flex items-center justify-between border-b dark:border-slate-800 uk-animation-slide-top-medium">

                        <!-- tabs -->
                        <ul class="flex gap-2 text-sm text-center text-gray-600 capitalize font-semibold dark:text-white/80 -mb-px"
                            uk-switcher="connect: #market_tab ; animation: uk-animation-slide-right-medium, uk-animation-slide-left-medium">

                            <li> <a href="#"
                                    class="flex items-center md:p-4 p-2.5 border-b-2 border-transparent aria-expanded:text-black aria-expanded:border-black aria-expanded:dark:text-white aria-expanded:dark:border-white">
                                    <ion-icon class="mr-2 text-2xl max-md:hidden" name="cart-outline"></ion-icon> My
                                    Products</a> </li>
                        </ul>

                    </div>

                    <!-- Search box -->
                    <div id="product-nav" class=" w-full  rounded-lg z-30 uk-animation-slide-bottom" hidden="">
                        <div class="bg-slate-200 py-2 px-3.5 rounded-md w-full flex items-center gap-3 dark:bg-dark2">
                            <button type="submit" class="flex"> <ion-icon class="text-2xl"
                                    name="search"></ion-icon></button>
                            <input type="text" class="!bg-transparent !outline-none !w-full" placeholder="Search">
                            <button class="flex" uk-toggle="target: #product-nav">
                                <ion-icon class="text-2xl" name="close"></ion-icon>
                            </button>
                        </div>
                    </div>

                </div>


                <!-- tab style two .  default this tab is hidden just remove to see style tab 2 -->
                <div class="relative items-center justify-between mt-6 border-b hidden">
                    <!-- tabs -->
                    <ul class="flex gap-2 text-sm text-center text-gray-600 capitalize font-semibold"
                        uk-switcher="connect: #market_tab ; animation: uk-animation-slide-right-medium, uk-animation-slide-left-medium">

                        <li> <a href="#"
                                class="flex items-center px-3 py-3.5 -mb-px border-b-2 border-transparent aria-expanded:text-black aria-expanded:border-black">
                                <ion-icon class="mr-2 text-2xl" name="cart-outline"></ion-icon> My Products</a> </li>
                        <!-- <li> <a href="#"
                                class="flex items-center px-3 py-3.5 -mb-px border-b-2 border-transparent aria-expanded:text-black aria-expanded:border-black">
                                <ion-icon class="mr-2 text-2xl" name="cloud-download-outline"></ion-icon> Donwloads</a>
                        </li> -->
                        <!-- <li> <a href="#"
                                class="flex items-center px-3 py-3.5 -mb-px border-b-2 border-transparent aria-expanded:text-black aria-expanded:border-black">
                                <ion-icon class="mr-2 text-2xl" name="add-outline"></ion-icon> Upload</a> </li> -->

                    </ul>

                    <!-- right button icons -->
                    <!-- <div class="flex items-center gap-4">
                        <button class="flex" uk-toggle="target: #search-box; cls: hidden">
                            <ion-icon class="text-xl" name="search"></ion-icon>
                        </button>
                        <select class="!bg-transparent focus:!border-transparent focus:!ring-transparent md:w-40">
                            <option value="1">Latest</option>
                            <option value="3">best product</option>
                            <option value="4">Engaged</option>
                        </select>
                    </div> -->

                    <!-- Search box -->
                    <div class="absolute left-0 -bottom-0.5 w-full hidden ring-4 ring-slate-100 rounded-lg z-30 "
                        id="search-box">
                        <div class="bg-slate-200 py-2 px-3.5 rounded-md w-full flex items-center gap-3">
                            <button type="submit" class="flex"> <ion-icon class="text-2xl"
                                    name="search"></ion-icon></button>
                            <input type="text" class="!bg-transparent !outline-none !w-full" placeholder="Search">
                            <button class="flex" uk-toggle="target: #search-box; cls: hidden">
                                <ion-icon class="text-2xl" name="close"></ion-icon>
                            </button>
                        </div>
                    </div>
                </div>

            </div>

            <div class="uk-switcher" id="market_tab">
                <!-- product list -->
                <div>
                    <!-- category list -->
                    <div class="relative" tabindex="-1" uk-slider="finite: true">
                        <div class="py-6 overflow-hidden uk-slider-container">
                            <ul class="uk-slider-items w-[calc(100%+0.10px)] capitalize text-sm font-semibold">
                                <li class="w-auto pr-2.5" *ngFor="let cat of categories"> <a href="#"
                                        class="px-4 py-2 rounded-lg bg-slate-200 inline-block hover:shadow dark:bg-dark2">
                                        {{cat.nom}} </a> </li>
                            </ul>
                        </div>

                        <a class="absolute left-0 -translate-y-1/2 top-1/2 flex items-center w-16 h-12 p-2.5 justify-start bg-gradient-to-r from-bgbody via-bgbody"
                            href="#" uk-slider-item="previous"> <ion-icon name="chevron-back"
                                class="text-2xl"></ion-icon> </a>
                        <a class="absolute right-0 -translate-y-1/2 top-1/2 flex items-center w-16 h-12 p-2.5 justify-end bg-gradient-to-l from-bgbody via-bgbody"
                            href="#" uk-slider-item="next"> <ion-icon name="chevron-forward"
                                class="text-2xl"></ion-icon> </a>

                    </div>

                    <!-- product list  -->
                    <div class="grid xl:grid-cols-4 md:grid-cols-3 grid-cols-2 gap-3 mt-2"
                        uk-scrollspy="target: > div; cls: uk-animation-slide-bottom-small; delay: 100">

                        <!-- single item -->
                        <div *ngFor="let article of articles">
                            <a href="#product_modal" class="group" uk-toggle="" (click)="select(article)">
                                <div class="relative overflow-hidden rounded-lg">
                                    <div
                                        class="relative w-full md:h-60 h-56 transition-all group-hover:scale-110 duration-300">
                                        <img crossorigin="anonymous" src="{{article.file}}" alt=""
                                            class="object-cover w-full h-full inset-0">
                                    </div>
                                    <div
                                        class="absolute right-0 top-0 m-2 bg-slate-100 rounded-full py-0.5 px-2 text-sm font-bold dark:bg-slate-800/60">
                                        ${{article.prix}} </div>
                                </div>
                            </a>
                            <div class="py-2">
                                <h4 class="text-black lg:font-medium mb-0.5 dark:text-white"> {{article.nom}} </h4>
                                <!-- <p class="md:text-sm text-xs lg:font-medium text-gray-500 dark:text-white"> by <a
                                        href="profile.html"> Jesse Steeve </a> </p> -->
                            </div>
                        </div>


                        <!-- placeholders -->
                        <div
                            class="w-full lg:h-60 h-full aspect-[3/3] bg-slate-200/60 rounded-lg dark:bg-dark2 animate-pulse">
                        </div>
                        <div
                            class="w-full lg:h-60 h-full aspect-[3/3] bg-slate-200/60 rounded-lg dark:bg-dark2 animate-pulse">
                        </div>
                        <div
                            class="w-full lg:h-60 h-full aspect-[3/3] bg-slate-200/60 rounded-lg dark:bg-dark2 animate-pulse">
                        </div>
                        <div
                            class="w-full lg:h-60 h-full aspect-[3/3] bg-slate-200/60 rounded-lg dark:bg-dark2 animate-pulse">
                        </div>

                    </div>

                    <!-- load more -->
                    <!-- <div class="flex justify-center my-8">
                        <button type="button"
                            class="bg-white py-2 px-5 rounded-full shadow-md font-semibold text-sm dark:bg-dark2">Load
                            more...</button>
                    </div> -->
                </div>
            </div>


        </div>


    </main>

</div>


<!-- create new product button -->
<div class="fixed bottom-0 right-0 m-10">
    <button type="button" class=" m-2" uk-toggle="target: #create_product"
        uk-tooltip="title:Add Product ; offset:10">
        <div class="flex items-center justify-center w-10 h-10 bg-sky-500 rounded-full">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="white" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
            </svg>
        </div>
    </button>
    <button type="button" class=" m-2" uk-toggle="target: #create_product"
        uk-tooltip="title:Chat with bot ; offset:10">
        <div class="flex items-center justify-center w-10 h-10 bg-sky-500 rounded-full">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="white" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z" />
              </svg>
        </div>
    </button>
</div>

<!-- product modal -->
<div class="hidden lg:p-20 max-lg:!items-start" id="product_modal" uk-modal="">
    <div
        class="uk-modal-dialog tt relative mx-auto overflow-hidden shadow-xl rounded-lg lg:flex items-center ax-w-[86rem] w-full lg:h-[80vh]">

        <!-- image previewer -->
        <div class="lg:h-full lg:w-[calc(100vw-400px)] w-full h-96 flex justify-center items-center relative">

            <div class="relative z-10 w-full h-full">
                <img crossorigin="anonymous" src="{{article.file}}" alt="" class="w-full h-full object-cover absolute">
            </div>

            <!-- close button -->
            <button type="button"
                class="bg-white rounded-full p-2 absolute right-0 top-0 m-3 uk-animation-slide-right-medium z-10 dark:bg-slate-600 uk-modal-close">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>

        </div>

        <!-- right sidebar -->
        <div class="lg:w-[400px] w-full bg-white h-full relative overflow-y-auto shadow-xl dark:bg-dark2">

            <div class="p-6">

                <div class="flex absolute right-2.5 top-4 text-black gap-1">
                    <button class="w-8 h-8 hover:bg-slate-100 rounded-full grid place-items-center"> <ion-icon
                            class="text-xl" uk-tooltip="title: Share; pos: top; offset: 6"
                            name="share-outline"></ion-icon> </button>
                    <button class="w-8 h-8 hover:bg-slate-100 rounded-full grid place-items-center"> <ion-icon
                            class="text-xl" uk-tooltip="title: Save; pos: top; offset: 6"
                            name="bookmarks-outline"></ion-icon> </button>
                </div>

                <div>
                    <div class="text-lg font-semibold text-black dark:text-white"> {{article.nom}}</div>
                    <p class="font-normal text-sm leading-6 mt-3"> {{article.description}} </p>
                </div>

                <div class="grid grid-cols-2 gap-y-5 gap-3 text-xs font-medium mt-5">
                    <div class="col-span-2 p-3 bg-slate-100 rounded-md space-y-1.5 border">
                        <div> Price</div>
                        <div class="text-3xl font-semibold text-black"> ${{article.prix}} </div>
                    </div>
                    <!-- <div class="space-y-1.5">
                        <div> Views</div>
                        <div class="text-2xl font-semibold text-black dark:text-white"> 1,286 </div>
                    </div>
                    <div class="space-y-1.5">
                        <div> Donwloads</div>
                        <div class="text-2xl font-semibold text-black dark:text-white"> 364 </div>
                    </div> -->
                </div>

                <div class="space-y-2 text-sm mt-7">
                    <div class="flex items-center gap-3"> <ion-icon class="text-xl" name="tag-outline"></ion-icon>
                        <div class="flex-1"> Category {{article.category.nom}} </div>
                    </div>
                    <!-- <div class="flex items-center gap-3"> <ion-icon class="text-xl"
                            name="navigate-circle-outline"></ion-icon>
                        <div class="flex-1"> Published 4 days ago </div>
                    </div>
                    <div class="flex items-center gap-3"> <ion-icon class="text-xl" name="camera-outline"></ion-icon>
                        <div class="flex-1"> Featured in Editorial </div>
                    </div>
                    <div class="flex items-center gap-3"> <ion-icon class="text-xl" name="image-outline"></ion-icon>
                        <div class="flex-1"> type Image </div>
                    </div>
                    <div class="flex items-center gap-3"> <ion-icon class="text-xl"
                            name="shield-checkmark-outline"></ion-icon>
                        <div class="flex-1"> Free to use under Instello License </div>
                    </div> -->
                </div>

                <!-- <div class="font-medium mt-6 space-y-3">
                    <div class="text-sm"> Seller </div>
                    <a href="#" class="flex items-center gap-3 mb-4 mt-1">
                        <div class="relative w-8 h-8 shrink-0"> <img src="assets/images/avatars/avatar-4.jpg" alt=""
                                class="object-cover w-full h-full rounded-full"></div>
                        <div class="flex-1 min-w-0">
                            <div class="text-sm font-medium text-black dark:text-white">Michel Emard</div>
                        </div>
                        <button type="button" class="text-sm rounded-full py-1.5 px-4 font-semibold bg-secondery"> Chat
                        </button>
                    </a>
                </div> -->

            </div>



            <!-- <div class="absolute bottom-0 w-full p-4">
                <div class="flex gap-2 items-center text-sm ">
                    <a href="#"
                        class="bg-teal-100 rounded-md py-2 text-center flex-1 flex items-center justify-center gap-2 text-teal-500 font-semibold">
                        <ion-icon class="text-2xl" name="cart-outline"></ion-icon> Buy</a>
                    <a href="#" class="bg-red-100 rounded-md py-2 text-center px-3 flex"> <ion-icon
                            class="text-2xl text-red-500" name="heart"></ion-icon> </a>
                </div>
            </div> -->

        </div>

    </div>

</div>

<!-- create product modal -->
<div class="hidden lg:p-20 max-lg:!items-start" id="create_product" uk-modal="">

    <div class="uk-modal-dialog tt relative mx-auto bg-white shadow-xl rounded-lg max-lg:w-full dark:bg-dark2">

        <!-- header card -->
        <div class="border-b px-3 py-3 text-center relative dark:border-slate-700/60">

            <h4 class="text-sm text-black dark:text-white"> Create new article</h4>

            <!-- close button -->
            <button type="button" class="button__ico absolute top-0 right-0 m-2.5 uk-modal-close">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>

        </div>

        <div class="lg:w-[600px] w-full">

            <div class="relative" tabindex="-1"
                uk-slideshow="finite: true;animation: Fade;  min-height: 460;animation:fade">

                <ul class="uk-slideshow-items">
                    <!-- about -->
                    <li class="w-full">

                        <form [formGroup]="articleForm">

                            <div class="p-8 space-y-4 font-normal text-sm">

                                <div class="md:flex items-center gap-16 justify-between">
                                    <label class="md:w-32"> Name </label>
                                    <div class="flex-1 max-md:mt-4">
                                        <input type="text" placeholder="name" formControlName="nom" class=" w-full">
                                    </div>
                                </div>
                                <div class="md:flex items-center gap-16 justify-between">
                                    <label class="md:w-32"> Price </label>
                                    <div class="flex-1 max-md:mt-4">
                                        <input type="number" placeholder="$12" formControlName="prix" class=" w-full">
                                    </div>
                                </div>
                                <div class="md:flex items-center gap-16 justify-between">
                                    <label class="md:w-32"> Category </label>
                                    <div class="flex-1 max-md:mt-4">
                                        <select class="w-full !border-0 !rounded-md" formControlName="category">
                                            <option value="{{cat.nom}}" *ngFor="let cat of categories">{{cat.nom}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </li>

                    <!-- add image -->
                    <li class="w-full">

                        <div class="p-8"
                            uk-scrollspy="target: > div; cls: uk-animation-scale-up; delay: 300;repeat:true">

                            <div class="relative w-full h-[395px] border1 rounded-lg overflow-hidden bg-repeat">

                                <label for="createProductUrl"
                                    class="flex flex-col justify-center items-center absolute -translate-x-1/2 left-1/2 bottom-0 z-10 w-full pb-6 pt-10 cursor-pointer bg-gradient-to-t from-gray-700/60">
                                    <input id="createProductUrl" type="file" class="form-control"
                                        (change)="onFileChange($event)" class="hidden">
                                    <ion-icon name="image" class="text-3xl text-teal-600"></ion-icon>
                                    <span class="text-white mt-2">Upload image </span>
                                </label>

                                <img crossorigin="anonymous" id="createProductImage" [src]="articleForm.value.file"
                                    alt="Uploaded Image" accept="image/*" style="display:none;"
                                    class="w-full h-full absolute object-cover">

                            </div>

                        </div>

                    </li>

                    <!-- final steop -->
                    <li class="w-full">

                        <div *ngIf="loading" class="flex justify-center items-center flex-col gap-6 h-full"
                            uk-scrollspy="target: > div; cls: uk-animation-scale-up; delay: 300;repeat:true">

                            <div class="text-center">
                                <img src="../../assets/images/loading.gif" alt="">
                                <h3 class="text-black font-semibold text-xl dark:text-white"> Writing Description </h3>

                            </div>
                        </div>

                        <form [formGroup]="descriptedarticleForm" (ngSubmit)="onSubmit()" *ngIf="!loading">
                            <div class="p-8 space-y-4 font-normal text-sm">
                                <div class="md:flex items-center gap-16 justify-between">
                                    <label class="md:w-32"> Name </label>
                                    <div class="flex-1 max-md:mt-4">
                                        <input type="text" placeholder="name" formControlName="nom" class=" w-full">
                                    </div>
                                </div>
                                <div class="md:flex items-center gap-16 justify-between">
                                    <label class="md:w-32"> Price </label>
                                    <div class="flex-1 max-md:mt-4">
                                        <input type="number" placeholder="$12" formControlName="prix" class=" w-full">
                                    </div>
                                </div>
                                <div class="md:flex items-center gap-16 justify-between">
                                    <label class="md:w-32"> Category </label>
                                    <div class="flex-1 max-md:mt-4">
                                        <select class="w-full !border-0 !rounded-md" formControlName="category">
                                            <option value="{{cat.id}}" *ngFor="let cat of categories">{{cat.nom}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="md:flex items-center gap-16 justify-between">
                                    <div class="flex justify-between"><label class="md:w-32"> Description </label></div>
                                    <div class="flex-1 max-md:mt-4">
                                        <textarea class="w-full !border-0 !rounded-md" formControlName="description"
                                            name="" id="" cols="30" rows="10"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="flex justify-end p-6 pt-0">
                                <button type="button" class="button bg-blue-600 text-white px-10"
                                    (click)="generateDescription(articleForm.value)"> Regénérer la description </button>
                                <button type="submit" class="button bg-blue-600 text-white px-10"> Soumettre </button>
                            </div>
                        </form>
                    </li>
                </ul>

                <div class="flex  justify-center py-1.5 border-t relative dark:border-slate-700/60">
                    <button type="button" uk-slideshow-item="previous"
                        class="bg-secondery font-semibold py-1.5 px-3.5 rounded-full text-sm absolute left-4 bottom-3 leading-6 uk-animation-slide-left-small">Previews</button>
                    <ul class="inline-flex flex-wrap justify-center my-5 uk-dotnav uk-slideshow-nav gap-2.5"></ul>
                    <button type="button" uk-slideshow-item="next"
                        class="bg-secondery font-semibold py-1.5 px-3.5 rounded-full text-sm absolute right-4 bottom-3 leading-6 uk-animation-slide-right-small">Next</button>
                </div>
            </div>
        </div>
    </div>
</div>